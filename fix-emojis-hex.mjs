import { readFileSync, writeFileSync } from 'fs';

const content = readFileSync('app/page.tsx', 'utf8');

// Build search/replace pairs from hex sequences
// Format: [hex sequence of broken emoji, correct emoji]
const hexFixes = [
  // Shield/Lock: C3B0 C5B8 E280BA C2A1 C3AF C2B8 C28F -> ðŸ”’
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0xBA, 0xC2, 0xA1, 0xC3, 0xAF, 0xC2, 0xB8, 0xC2, 0x8F], 'ðŸ”’'],
  // Document: C3B0 C5B8 E28099 E2809E -> ðŸ“„
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x99, 0xE2, 0x80, 0x9E], 'ðŸ“„'],
  // Speech: C3B0 C5B8 E28098 C2AC -> ðŸ’¬
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xAC], 'ðŸ’¬'],
  // Laptop: C3B0 C5B8 E28098 C2BB -> ðŸ’»
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xBB], 'ðŸ’»'],
  // Link: C3B0 C5B8 E28094 E28093 -> ðŸ”—
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x94, 0xE2, 0x80, 0x93], 'ðŸ”—'],
  // No entry: C3B0 C5B8 C5A1 C2AB -> ðŸš«
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xC5, 0xA1, 0xC2, 0xAB], 'ðŸš«'],
  // Lock: C3B0 C5B8 E28094 E28098 -> ðŸ”’
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x94, 0xE2, 0x80, 0x98], 'ðŸ”’'],
  // Info: C3A2 E28498 C2B9 C3AF C2B8 C28F -> â„¹ï¸
  [[0xC3, 0xA2, 0xE2, 0x84, 0x98, 0xC2, 0xB9, 0xC3, 0xAF, 0xC2, 0xB8, 0xC2, 0x8F], 'â„¹ï¸'],
  // Muscle: C3B0 C5B8 E28098 C2AA -> ðŸ’ª
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xAA], 'ðŸ’ª'],
  // Warning: C3A2 C5A1 C2A0 C3AF C2B8 C28F -> âš ï¸
  [[0xC3, 0xA2, 0xC5, 0xA1, 0xC2, 0xA0, 0xC3, 0xAF, 0xC2, 0xB8, 0xC2, 0x8F], 'âš ï¸'],
  // Siren: C3B0 C5B8 C5A1 C2A8 -> ðŸš¨
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xC5, 0xA1, 0xC2, 0xA8], 'ðŸš¨'],
  // Down-right: C3A2 E28086 E28098 C3AF C2B8 C28F -> â†˜ï¸
  [[0xC3, 0xA2, 0xE2, 0x80, 0x86, 0xE2, 0x80, 0x98, 0xC3, 0xAF, 0xC2, 0xB8, 0xC2, 0x8F], 'â†˜ï¸'],
  // Briefcase: C3B0 C5B8 E28098 C2BC -> ðŸ’¼
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xBC], 'ðŸ’¼'],
  // Printer: C3B0 C5B8 E28093 C2A8 C3AF C2B8 C28F -> ðŸ–¨ï¸
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x93, 0xC2, 0xA8, 0xC3, 0xAF, 0xC2, 0xB8, 0xC2, 0x8F], 'ðŸ–¨ï¸'],
  // Multiplication: C397 -> Ã—
  [[0xC3, 0x97], 'Ã—'],
  // Chart up: C3B0 C5B8 E28099 CB86 -> ðŸ“ˆ
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x99, 0xCB, 0x86], 'ðŸ“ˆ'],
  // Chart down: C3B0 C5B8 E28099 E280B0 -> ðŸ“‰
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x99, 0xE2, 0x80, 0xB0], 'ðŸ“‰'],
  // Chart bars: C3B0 C5B8 E28099 C5A0 -> ðŸ“Š
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x99, 0xC5, 0xA0], 'ðŸ“Š'],
  // Check: C3A2 C5BD E28085 -> âœ…
  [[0xC3, 0xA2, 0xC5, 0xBD, 0xE2, 0x80, 0x85], 'âœ…'],
  // Document 2: C3B0 C5B8 E2809C E2809E -> ðŸ“„
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x9C, 0xE2, 0x80, 0x9E], 'ðŸ“„'],
  // Speech 2: C3B0 C5B8 E28098 C2AC -> ðŸ’¬
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xAC], 'ðŸ’¬'],
  // Laptop 2: C3B0 C5B8 E28098 C2BB -> ðŸ’»
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xBB], 'ðŸ’»'],
  // Link 2: C3B0 C5B8 E28094 E28093 -> ðŸ”—
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x94, 0xE2, 0x80, 0x93], 'ðŸ”—'],
  // Info 2: C3A2 E28498 C2B9 C3AF C2B8 C28F -> â„¹ï¸
  [[0xC3, 0xA2, 0xE2, 0x84, 0x98, 0xC2, 0xB9, 0xC3, 0xAF, 0xC2, 0xB8, 0xC2, 0x8F], 'â„¹ï¸'],
  // Muscle 2: C3B0 C5B8 E28098 C2AA -> ðŸ’ª
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xAA], 'ðŸ’ª'],
  // Down-right 2: C3A2 E28086 E28098 C3AF C2B8 C28F -> â†˜ï¸
  [[0xC3, 0xA2, 0xE2, 0x80, 0x86, 0xE2, 0x80, 0x98, 0xC3, 0xAF, 0xC2, 0xB8, 0xC2, 0x8F], 'â†˜ï¸'],
  // Briefcase 2: C3B0 C5B8 E28098 C2BC -> ðŸ’¼
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xBC], 'ðŸ’¼'],
  // Up arrow: C3A2 E28086 E28091 -> â†‘
  [[0xC3, 0xA2, 0xE2, 0x80, 0x86, 0xE2, 0x80, 0x91], 'â†‘'],
  // Down arrow: C3A2 E28086 E28093 -> â†“
  [[0xC3, 0xA2, 0xE2, 0x80, 0x86, 0xE2, 0x80, 0x93], 'â†“'],
  // Left arrow: C3A2 E28086 E28090 -> â†
  [[0xC3, 0xA2, 0xE2, 0x80, 0x86, 0xE2, 0x80, 0x90], 'â†'],
  // Right arrow: C3A2 E28086 E28092 -> â†’
  [[0xC3, 0xA2, 0xE2, 0x80, 0x86, 0xE2, 0x80, 0x92], 'â†’'],
  // Check mark: C3A2 C5BD E28093 -> âœ“
  [[0xC3, 0xA2, 0xC5, 0xBD, 0xE2, 0x80, 0x93], 'âœ“'],
  // Check 2: C3A2 E28480 C2B9 -> â„¹
  [[0xC3, 0xA2, 0xE2, 0x84, 0x80, 0xC2, 0xB9], 'â„¹'],
  // Document 3 (console.log): C3B0 C5B8 E2809D E2809E -> ðŸ“„
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x9D, 0xE2, 0x80, 0x9E], 'ðŸ“„'],
  // Lock 2 (console.log): C3B0 C5B8 E28094 E28098 -> ðŸ”’
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x94, 0xE2, 0x80, 0x98], 'ðŸ”’'],
  // Speech 3 (Contact Support): C3B0 C5B8 E28098 C2AC -> ðŸ’¬
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x98, 0xC2, 0xAC], 'ðŸ’¬'],
  // Lock 3 (console.log): C3B0 C5B8 E2809D E28099 -> ðŸ”’
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x9D, 0xE2, 0x80, 0x99], 'ðŸ”’'],
  // Chart 2 (console.log): C3B0 C5B8 E2809C C5A0 -> ðŸ“Š
  [[0xC3, 0xB0, 0xC5, 0xB8, 0xE2, 0x80, 0x9C, 0xC5, 0xA0], 'ðŸ“Š'],
];

let fixed = content;
let totalCount = 0;

for (const [hexBytes, correctEmoji] of hexFixes) {
  const brokenStr = Buffer.from(hexBytes).toString('utf8');
  const count = (fixed.match(new RegExp(brokenStr.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g')) || []).length;
  if (count > 0) {
    fixed = fixed.split(brokenStr).join(correctEmoji);
    totalCount += count;
    console.log(`Fixed ${count}x: [${hexBytes.map(b => b.toString(16).toUpperCase().padStart(2, '0')).join(' ')}] -> ${correctEmoji}`);
  }
}

writeFileSync('app/page.tsx', fixed, 'utf8');
console.log(`\nâœ… Total fixed: ${totalCount} broken emojis`);

